<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link type="text/css" rel="stylesheet" href="styles/base.min.css">
</head>

<body class="body">

    <div class="container">

        <nav class="sidenav">
            <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-compile_clean.html">compile/clean</a></li><li><a href="module-compile_css.html">compile/css</a></li><li><a href="module-compile_js.html">compile/js</a></li><li><a href="module-compile_sass.html">compile/sass</a></li><li><a href="module-compile_watch.html">compile/watch</a></li><li><a href="module-hubspot_auth.html">hubspot/auth</a></li><li><a href="module-hubspot_auth_env.html">hubspot/auth/env</a></li><li><a href="module-hubspot_auth_prompts.html">hubspot/auth/prompts</a></li><li><a href="module-hubspot_auth_scopes.html">hubspot/auth/scopes</a></li><li><a href="module-hubspot_fetch.html">hubspot/fetch</a></li><li><a href="module-hubspot_fetchdb.html">hubspot/fetchdb</a></li><li><a href="module-hubspot_fieldsJs.html">hubspot/fieldsJs</a></li><li><a href="module-hubspot_hubdb_prompts.html">hubspot/hubdb/prompts</a></li><li><a href="module-hubspot_lighthouseScore.html">hubspot/lighthouseScore</a></li><li><a href="module-hubspot_marketplaceValidate.html">hubspot/marketplaceValidate</a></li><li><a href="module-hubspot_theme.html">hubspot/theme</a></li><li><a href="module-hubspot_upload.html">hubspot/upload</a></li><li><a href="module-hubspot_watch.html">hubspot/watch</a></li><li><a href="module-utils_args.html">utils/args</a></li><li><a href="module-utils_check.html">utils/check</a></li><li><a href="module-utils_console.html">utils/console</a></li><li><a href="module-utils_fs.html">utils/fs</a></li><li><a href="module-utils_options.html">utils/options</a></li><li><a href="module-utils_ui.html">utils/ui</a></li></ul><h3>Namespaces</h3><ul><li><a href="Commands.html">Commands</a></li></ul><h3><a href="global.html">Global</a></h3>
        </nav>

        <main id="main" class="main">
            <div id="content" class="content">
                <h1 class="page-title">Home</h1>
                



    


    <h3> </h3>










    




    <section class="readme">
        <article><h1 id="%40resultify%2Fhubspot-cms-lib">@resultify/hubspot-cms-lib</h1>
<p>Library with additional functionality on top of native HubSpot CMS CLI library (<a href="https://github.com/HubSpot/cli-lib">cli-lib</a>) with command-line interface.</p>
<p>❗It should be used instead of <code>hubspot-cli</code>❗</p>
<p><a href="https://github.com/Resultify/hubspot-cms-lib/actions/workflows/test.yml"><img src="https://github.com/Resultify/hubspot-cms-lib/actions/workflows/test.yml/badge.svg" alt="Run tests"></a>
<img src="https://img.shields.io/node/v/@resultify/hubspot-cms-lib" alt="node-current">
<a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="JavaScript Style Guide"></a>
<img src="https://img.shields.io/badge/API%20documentation-JSDoc-yellow" alt="JSDoc"></p>
<p><a href="https://resultify.github.io/hubspot-cms-lib"><strong>Code Documentation</strong></a></p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#why">Why?</a></li>
<li><a href="#whats-inside">What's inside</a></li>
<li><a href="#instal">Install</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#custom-multi-account-authentication">Custom multi-account authentication</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="CHANGELOG.md">Changelog</a></li>
</ul>
<h2 id="why%3F">Why?</h2>
<ul>
<li>The <strong>HubSpot CLI</strong> is a useful tool for connecting local development tools with HubSpot. However, integrating it smoothly into the development process can be a challenge, as there is no easy way to consolidate all local development tasks into one tool. To simplify the process and have one tool to manage all local development tasks, we created our own library that utilizes HubSpot CLI LIB and allows for seamless integration with other tools.</li>
<li><strong>For example</strong>, to compile <code>SCSS</code> files and upload them using the <code>hubspot-cli</code> <strong>Watch</strong> process, you typically need multiple tools or steps. This includes some task manager that can compile <code>SCSS</code>, copy <code>CSS</code>, and run a <strong>Watch</strong> process, as well as the <code>hubspot-cli</code> <strong>Watch/Upload</strong> process to upload the compiled files. However, with <code>@resultify/hubspot-cms-lib</code>, you only need one step. The <strong>Watch</strong> process combines <code>SCSS</code>, <code>PostCSS</code>, and <code>Rolup.js</code> compilers with the Hubspot Watch and Upload process, allowing you to accomplish everything with just one CLI command: <code>npm run watch</code>.</li>
<li>Additionally, this library provides a very simple and straightforward way to <a href="#custom-multi-account-authentication">authenticate multiple HubSpot accounts</a>.</li>
</ul>
<h2 id="what's-inside%3A">What's inside:</h2>
<ul>
<li>
<p>Commands</p>
<ul>
<li><code>build</code> - compile all vendor files (scss, js, css)</li>
<li><code>watch</code> - tracks file changes, compiles, and uploads/moves/deletes them to HubSpot</li>
<li><code>fetch</code> - fetches all files from HubSpot</li>
<li><code>fetchModules</code> - fetches all modules from HubSpot theme</li>
<li><code>upload</code> - uploads all files to HubSpot</li>
<li><code>validate</code> - HubSpot Marketplace validation</li>
<li><code>lighthouse</code> - HubSpot Lighthouse validation</li>
<li><code>fields</code> - converts theme/modules <code>fields.js</code> to <code>fields.json</code></li>
<li><code>fetchDb</code> - fetches chosen HubDB tables to local <code>.json</code> files</li>
<li><code>uploadDb</code> - uploads and publish chosen HubDB tables from local <code>.json</code> files</li>
</ul>
</li>
<li>
<p>Compilers:</p>
<ul>
<li>SCSS - SASS</li>
<li>JS - RollupJs</li>
<li>CSS - PostCSS</li>
</ul>
</li>
<li>
<p>Other features:</p>
<ul>
<li><a href="#custom-multi-account-authentication">Custom multi-account authentication</a></li>
<li><a href="https://github.com/Resultify/hubspot-fields-js">FieldsJs</a></li>
<li>Watch process combines <code>SCSS</code>, <code>PostCSS</code>, and <code>Rolup.js</code> compilers with the Hubspot watch and Upload process.</li>
</ul>
</li>
</ul>
<h2 id="instal">Instal</h2>
<p>This library should be a part of HubSpot Theme as an NPM dependency</p>
<pre class="prettyprint source"><code>npm i @resultify/hubspot-cms-lib
</code></pre>
<h2 id="usage">Usage</h2>
<ol>
<li>Add needed scripts to package.json</li>
</ol>
<pre class="prettyprint source"><code>  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;cmslib --build&quot;,
    &quot;watch&quot;: &quot;cmslib --watch'&quot;,
    &quot;fetch&quot;: &quot;cmslib --fetch&quot;,
    &quot;fetchModules&quot;: &quot;cmslib --fetchModules&quot;,
    &quot;upload&quot;: &quot;cmslib --upload&quot;,
    &quot;validate&quot;: &quot;cmslib --validate&quot;,
    &quot;lighthouse&quot;: &quot;cmslib --lighthouse&quot;,
    &quot;fields&quot;: &quot;cmslib --fields&quot;,
    &quot;fetchDb&quot;: &quot;cmslib --fetchDb&quot;,
    &quot;uploadDb&quot;: &quot;cmslib --uploadDb&quot;
  }
</code></pre>
<ol start="2">
<li>Add <a href="#configuration">cmslib configuration</a> to package.json</li>
</ol>
<pre class="prettyprint source"><code>  &quot;cmslib&quot;: {
    &quot;themeFolder&quot;: &quot;theme&quot;,
    &quot;hubdbFolder&quot;: &quot;hubdb&quot;,
    &quot;vendorSrc&quot;: &quot;vendor&quot;,
    &quot;vendorDest&quot;: &quot;theme/vendor&quot;,
    &quot;lighthouse&quot;: {
      &quot;performance&quot;: 75,
      &quot;accessibility&quot;: 90,
      &quot;bestPractices&quot;: 90,
      &quot;seo&quot;: 80
    },
    &quot;js&quot;: {
      &quot;external&quot;: [&quot;@popperjs/core&quot;],
      &quot;replace&quot;: {},
      &quot;globals&quot;: {
        &quot;@popperjs/core&quot;: &quot;Popper = () => {}&quot;
      }
    }
  }
</code></pre>
<ol start="3">
<li>Add <code>.env</code> file with <a href="#custom-multi-account-authentication">multi-account authentication configuration</a></li>
<li>Run commands from package.json</li>
</ol>
<pre class="prettyprint source"><code>npm run fetch
or
npm run watch
</code></pre>
<p><code>package.json</code> example: https://github.com/Resultify/nimbly-lite/blob/master/package.json</p>
<p><a href="https://resultify.github.io/hubspot-cms-lib/Commands.html">More examples of how to run commands in your project</a></p>
<hr>
<h2 id="custom-multi-account-authentication">Custom multi-account authentication</h2>
<ol>
<li>Add <code>.env</code> file to your theme</li>
<li>Add a name of your Hubspot portal prefixed by hub_ with associated personal access key to it</li>
</ol>
<h3 id=".env-file-example"><code>.env</code> file example</h3>
<pre class="prettyprint source"><code>hub_sandbox=personal-access-key-for-this-sandbox-portal
hub_portalname=personal-access-key-for-this-portalname
hub_portalname2=personal-access-key-for-this-portalname2
</code></pre>
<hr>
<h2 id="configuration">Configuration</h2>
<p>Add <strong>hubspot-cms-lib</strong> configuration object to <code>package.json</code> with needed options.</p>
<pre class="prettyprint source lang-json"><code>&quot;cmslib&quot;: {
    &quot;themeFolder&quot;: &quot;theme&quot;,
    &quot;hubdbFolder&quot;: &quot;hubdb&quot;
}
</code></pre>
<h3 id="options">Options</h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>themeFoldere</td>
<td>'theme'</td>
<td>string</td>
<td>HubSpot CMS theme folder name inside your repository</td>
</tr>
<tr>
<td>hubdbFolder</td>
<td>'hubdb'</td>
<td>string</td>
<td>HubDB folder name inside your repository to store HubDB tables</td>
</tr>
<tr>
<td>vendorSrc</td>
<td>'vendor'</td>
<td>string</td>
<td>Entry point folder name for third party libraries [e.g., <code>vendor/css</code>,<code>vendor/js</code>,<code>vendor/scss</code>]</td>
</tr>
<tr>
<td>vendorDest</td>
<td>'theme/vendor'</td>
<td>string</td>
<td>Folder name for compiled third party libraries</td>
</tr>
<tr>
<td>lighthouse</td>
<td></td>
<td>Object</td>
<td>lighthouse threshold numbers</td>
</tr>
<tr>
<td>lighthouse.performance</td>
<td>75</td>
<td>number</td>
<td></td>
</tr>
<tr>
<td>lighthouse.accessibility</td>
<td>90</td>
<td>number</td>
<td></td>
</tr>
<tr>
<td>lighthouse.bestPractices</td>
<td>80</td>
<td>number</td>
<td></td>
</tr>
<tr>
<td>lighthouse.seo</td>
<td>80</td>
<td>number</td>
<td></td>
</tr>
<tr>
<td>js</td>
<td>[optional]</td>
<td>Object</td>
<td>rollupjs configurations</td>
</tr>
<tr>
<td>js.external</td>
<td></td>
<td>Array<string></td>
<td>https://rollupjs.org/configuration-options/#external</td>
</tr>
<tr>
<td>js.replace</td>
<td></td>
<td>Object&lt;string, string&gt;</td>
<td>https://github.com/rollup/plugins/tree/master/packages/replace</td>
</tr>
<tr>
<td>js.globals</td>
<td></td>
<td>Object&lt;string, string&gt;</td>
<td>https://rollupjs.org/configuration-options/#output-globals</td>
</tr>
</tbody>
</table></article>
    </section>






            </div>

            <div class="toc">
                <h2>Table of contents</h2>
                <div class="toc-nav"></div>
            </div>
        </main>

        <footer class="footer">
            Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a>
        </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <script >
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('.prettyprint.linenums code').forEach((el) => {
                hljs.configure({
                    languages: ['javascript'],
                });
                hljs.highlightElement(el);
                hljs.lineNumbersBlock(el);
            });
            document.querySelectorAll('pre code').forEach((el) => {
                hljs.configure({
                    languages: ['javascript'],
                });
                hljs.highlightElement(el);
            });
        })
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js"></script>
    <script>
        tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.toc-nav',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.main article',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1.name, h2.name, h3.name, h4.name',
        headingLabelCallback: (string) => string
    });
    </script>
</body>
</html>